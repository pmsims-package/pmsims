% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/engines.R
\name{calculate_bisection}
\alias{calculate_bisection}
\title{The Bisection Engine}
\usage{
calculate_bisection(
  data_function = data_function,
  model_function = model_function,
  metric_function = metric_function,
  value_on_error = value_on_error,
  min_sample_size = min_sample_size,
  max_sample_size = max_sample_size,
  test_n = test_n,
  n_reps_total = n_reps_total,
  n_reps_per = n_reps_per,
  target_performance = target_performance,
  c_statistic,
  mean_or_assurance = mean_or_assurance,
  tol = 0.001,
  parallel = FALSE,
  cores = 20,
  verbose = FALSE,
  budget = FALSE
)
}
\arguments{
\item{data_function}{A function that returns datasets. Must have a single argument, \code{n}, which controls the sample size.}

\item{model_function}{A function that fits models to the data. Takes the data object returned by \code{data_function} as its only argument.}

\item{metric_function}{A function that returns a performance metric. Must take test data, a fitted model and a model function as arguments. Must return a single value.}

\item{value_on_error}{Numeric fallback returned when a simulation run fails.}

\item{min_sample_size}{Integer lower bound of the sample-size search region.}

\item{max_sample_size}{Integer upper bound of the sample-size search region.}

\item{test_n}{Integer size of the test datasets used to evaluate performance (should be large).}

\item{n_reps_total}{Integer total number of simulation replications allocated to the search.}

\item{n_reps_per}{Integer number of replications evaluated at each candidate sample size.}

\item{target_performance}{Numeric target performance threshold the algorithm must meet or exceed.}

\item{c_statistic}{Numeric; anticipated large-sample discrimination used when tuning the data generator.}

\item{mean_or_assurance}{Character string \code{"mean"} or \code{"assurance"} indicating which criterion defines the minimum sample size.}

\item{tol}{Numeric tolerance controlling when the bisection loop stops.}

\item{parallel}{Logical; if \code{TRUE} the per-sample-size simulations run in parallel via \code{foreach}.}

\item{cores}{Integer number of cores to use when \code{parallel = TRUE}.}

\item{verbose}{Logical flag passed to \code{mlpwr}; when \code{TRUE} verbose output is printed.}

\item{budget}{Logical; if \code{TRUE} the algorithm halts once the evaluation budget is exhausted instead of using \code{tol}.}
}
\value{
A list containing the simulation \code{results}, performance \code{summaries},
optional tracking \code{history}, and the \code{track_bisection} records.
}
\description{
Runs a bisection search over sample size using repeated simulations and
summaries of the chosen performance metric.
}
\keyword{internal}
